"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getTreeFiles = void 0;
const util_1 = require("util");
const glob_1 = __importDefault(require("glob"));
const pGlob = (0, util_1.promisify)(glob_1.default);
// When using a directory, we include all its descendants except `node_modules`
const getTreeFiles = async function (srcPath, stat) {
    if (!stat.isDirectory()) {
        return [srcPath];
    }
    return await pGlob(`${srcPath}/**`, {
        ignore: `${srcPath}/**/node_modules/**`,
        nodir: true,
        absolute: true,
    });
};
exports.getTreeFiles = getTreeFiles;
//# sourceMappingURL=tree_files.js.map