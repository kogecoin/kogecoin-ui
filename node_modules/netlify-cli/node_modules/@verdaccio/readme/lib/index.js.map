{"version":3,"sources":["../src/index.ts"],"names":["DOMPurify","JSDOM","window","marked","require","parseReadme","readme","options","result","sanitize","trim","pathname","replace"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,SAAS,GAAG,wBAAgB,IAAIC,YAAJ,CAAU,EAAV,EAAcC,MAA9B,CAAlB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAaC,OAAO,CAAC,QAAD,CAA1B;;AAEe,SAASC,WAAT,CACbC,MADa,EAEbC,OAAqC,GAAG,EAF3B,EAGE;AACf,MAAIC,MAAJ;;AAEA,MAAIF,MAAJ,EAAY;AACVE,IAAAA,MAAM,GAAGR,SAAS,CAACS,QAAV,CACPN,MAAM,CAACG,MAAD,EAAS;AACbG,MAAAA,QAAQ,EAAE;AADG,KAAT,CAAN,CAEGC,IAFH,EADO,CAAT;;AAMA,QAAI,aAAa,OAAOH,OAAO,CAACI,QAAhC,EAA0C;AACxCH,MAAAA,MAAM,GAAGA,MAAM,CAACI,OAAP,CAAe,WAAf,EAA6B,SAAQL,OAAO,CAACI,QAAS,GAAtD,CAAT;AACD;AACF;;AAED,SAAOH,MAAP;AACD","sourcesContent":["import createDOMPurify from 'dompurify';\nimport { JSDOM } from 'jsdom';\n\nconst DOMPurify = createDOMPurify(new JSDOM('').window);\nconst { marked } = require('marked');\n\nexport default function parseReadme(\n  readme: string,\n  options: { pathname?: string | void } = {}\n): string | void {\n  let result;\n\n  if (readme) {\n    result = DOMPurify.sanitize(\n      marked(readme, {\n        sanitize: false,\n      }).trim()\n    );\n\n    if ('string' === typeof options.pathname) {\n      result = result.replace(/href=\"#/gi, `href=\"${options.pathname}#`);\n    }\n  }\n\n  return result;\n}\n"],"file":"index.js"}